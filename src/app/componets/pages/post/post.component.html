<!-- Page Header -->
<div class="my-4 page-header-breadcrumb d-flex align-items-center justify-content-between flex-wrap gap-2">
    <div>
        <h1 class="page-title fw-medium fs-18 mb-2">Post</h1>
        <div class="">
            <nav>
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="javascript:void(0);">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Post</li>
                </ol>
            </nav>
        </div>
    </div>
   
  </div>
<div class="whole">
    <!-- Profile Banner -->
    <div class="profile-banner">
        <img src="https://static.vecteezy.com/system/resources/thumbnails/000/693/768/small/digital-connecting-banner-technology-polygon-background.jpg" alt="Banner Image" class="banner-img" />
        <div class="profile-info">
            <img src="https://skillfactory-48afa.web.app/images/user1.jpg" alt="Profile Picture" class="profile-pic" />
            <h1 class="profile-name">James Anderson</h1>
            <p class="profile-details">Photographer, Author, Teacher</p>
            <a href="#" class="view-profile-btn" >View Profile on Ednuv</a>
        </div>
    </div>

    <!-- University Forum Section -->
    <div class="forum-section">
        <div class="banner">
            <h1>University Forum</h1>
        </div>

        <!-- Add Post Button -->
        <button class="open-modal-btn" (click)="openModal()">+ Add Post</button>

        <!-- Modal for Adding a Post -->
        <div id="postModal" class="modal" [ngClass]="{ 'show': isModalOpen }">
            <div class="modal-content">
                <span class="close-btn" (click)="closeModal()">&times;</span>
                <h3>Create a New Post</h3>
                <form (submit)="createPost(); $event.preventDefault()">
                    <div class="form-group">
                        <label for="title">Title</label>
                        <input [(ngModel)]="newPostTitle" name="title" type="text" id="title" placeholder="Enter post title" required />
                    </div>
                    <div class="form-group">
                        <label for="content">Content</label>
                        <textarea [(ngModel)]="newPostContent" name="content" id="content" placeholder="What's on your mind?" required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Post</button>
                </form>
            </div>
        </div>

        <!-- Posts List -->
        <div class="posts-list">
            <div class="post" *ngFor="let post of posts">
                <div class="post-header">
                    <h3 class="post-title">{{ post.title }}</h3>
                    <p class="post-content">{{ post.content }}</p>
                </div>
                <div class="post-comments">
                    <h4>Comments</h4>
                    <div class="comment" *ngFor="let comment of post.comments">
                        <div class="comment-header">
                            <img src="https://skillfactory-48afa.web.app/images/user1.jpg" alt="User Picture" class="user-pic" />
                            <div class="user-info">
                                <p class="username">{{ comment.username }}</p>
                                <span class="stars">⭐⭐⭐⭐⭐</span>
                            </div>
                        </div>
                        <p class="comment-text">{{ comment.text }}</p>

                        <!-- Reply Section -->
                        <div class="replies" *ngFor="let reply of comment.replies">
                            <div class="reply">
                                <p class="reply-text"><strong>{{ reply.username }}</strong>: {{ reply.text }}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add Comment Section -->
                <div class="add-comment">
                    <textarea [(ngModel)]="newComment" placeholder="Write a comment..." class="comment-input"></textarea>
                    <div class="add-comment">
                        <textarea [(ngModel)]="newComment" placeholder="Write a comment..." class="comment-input"></textarea>
                        <button (click)="post.id ? addComment(post.id) : null" class="post-btn">Post Comment</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

